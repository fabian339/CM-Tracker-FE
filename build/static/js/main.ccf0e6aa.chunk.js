(this["webpackJsonpcm-tracker"]=this["webpackJsonpcm-tracker"]||[]).push([[0],{101:function(e,t,a){},128:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),i=(a(101),a(21)),c=a(15),m=a(25),s=a(26),u=a(27),d=a(18),p=a(183),h=a(19),g=a.n(h),E=function(e){return function(t){t({type:"LOADING_ADMIN"}),g.a.get("/admin/".concat(e)).then((function(e){t({type:"SET_ADMIN",payload:e.data})})).catch((function(e){t({type:"SET_UNAUTHENTICATED_ADMIN"})}))}},f=function(){return function(e){localStorage.removeItem("FBIdToken"),localStorage.removeItem("fullname"),e({type:"SET_UNAUTHENTICATED_ADMIN"}),delete g.a.defaults.headers.common.Authorization,localStorage.removeItem("role")}},b=function(e,t,a){var n="Bearer ".concat(e);localStorage.setItem("FBIdToken",n),localStorage.setItem("role",t),localStorage.setItem("fullname",a),g.a.defaults.headers.common.Authorization=n},y=a(178),T=a(182),S=a(184),v=a(185),A=a(82),I=a.n(A),O=a(42).Link,x={navContainer:{backgroundColor:"mediumturquoise"},navButtons:{fontSize:"initial",color:"dimgray",fontWeight:"600"},title:{flexGrow:1},menuItem:{fontSize:"13px",fontWeight:"600",color:"dimgray"}},C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,open:!1},a.handleClick=function(e){a.setState({open:!0,anchorEl:e.currentTarget})},a.handleRequestClose=function(e){console.log("Nav",e),a.setState({open:!1})},a.handleLogOut=function(){console.log("logout called"),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.authenticatedAdmin;return r.a.createElement(y.a,null,r.a.createElement(T.a,{style:x.navContainer},r.a.createElement(p.a,{variant:"h6",style:x.title},r.a.createElement(S.a,{style:x.navButtons,color:"inherit",component:O,to:"/"},"CM-Tracker")),e?r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{title:"Log Out","aria-label":"add"},r.a.createElement(S.a,{style:{color:"dimgray"},onClick:this.handleLogOut,component:O,to:"/"},r.a.createElement(I.a,null)))):r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{style:x.navButtons,color:"inherit",component:O,to:"/login"},"Login"))))}}]),t}(n.Component),k=Object(d.b)((function(e){return{authenticatedAdmin:e.user.authenticatedAdmin,user:e.user}}),{logoutUser:f})(C),w=a(8),j=a(83),N=a.n(j),D={textField:{margin:"10px auto 10px auto",width:"80%"},logoContainer:{marginTop:"80px",textAlign:"center"},pageTitle:{marginTop:"-10px",marginBottom:"10px",textAlign:"center",background:"-webkit-linear-gradient(#eee, #333)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},button:{marginTop:20,width:250,position:"relative",margin:"auto 15%"},form:{textAlign:"center"},progress:{position:"absolute",color:"chartreuse",width:"40px",height:"40px"},customError:{color:"red",fontSize:"1rem",marginTop:10}},_=a(186),R=a(194),U=a(187),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginFunc(a,e.props.history)},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:[]},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props.UI.loading,t=this.state.errors;return r.a.createElement(_.a,null,r.a.createElement("header",null,r.a.createElement("div",{style:D.logoContainer},r.a.createElement("img",{src:N.a,alt:"icon",style:{width:250}})),r.a.createElement(p.a,{variant:"h4",style:D.pageTitle},"Log In")),r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,sm:!0}),r.a.createElement(_.a,{item:!0,sm:!0},r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit,style:D.form},r.a.createElement(R.a,{required:!0,id:"email",name:"email",type:"email",label:"Email",style:D.textField,helperText:t.email,error:!!t.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(R.a,{required:!0,id:"password",name:"password",type:"password",label:"Password",style:D.textField,helperText:t.password,error:!!t.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),t.general&&r.a.createElement(p.a,{variant:"body2",style:D.customError},t.general),r.a.createElement(S.a,{type:"submit",variant:"contained",color:"primary",style:D.button}," Login",e&&r.a.createElement(U.a,{size:30,style:D.progress})))),r.a.createElement(_.a,{item:!0,sm:!0})))}}]),t}(n.Component),W=Object(d.b)((function(e){return{UI:e.UI}}),{loginFunc:function(e,t){return function(a){a({type:"LOADING_UI"}),g.a.post("/login",e).then((function(e){b(e.data.token,e.data.role,e.data.fullname),"admin"===e.data.role&&(a(E(e.data.fullname)),a({type:"SET_AUTHENTICATED_ADMIN"}),a({type:"CLEAR_ERRORS"}),t.push("timesheet/".concat(e.data.fullname)))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(z),L=a(2),M=a(35),B=a(4),F=a.n(B),H=function(e){var t=e.component,a=e.authenticatedAdmin,n=Object(L.a)(e,["component","authenticatedAdmin"]);return r.a.createElement(M.d,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(M.c,{to:"/UNAUTHORIZED"})}}))};H.prototype={admin:F.a.object};var G=Object(d.b)((function(e){return{authenticatedAdmin:e.user.authenticatedAdmin}}))(H),P=a(84),q=a.n(P),V=(a(128),a(13)),K={width:"200px",bottom:"45px",marginLeft:"50px",color:"white",borderRadius:"20px"},Y={pageTitle:{marginTop:"90px",marginBottom:"40px",textAlign:"center"},container:{marginTop:"-10px"},adminBtn:Object(V.a)({},K,{backgroundColor:"darkblue"}),progress:{position:"absolute",color:"chartreuse",width:"40px",height:"40px"},userBtn:Object(V.a)({},K,{backgroundColor:"darkmagenta"}),clientBtn:Object(V.a)({},K,{backgroundColor:"darkgoldenrod"}),onBtnHover:Object(V.a)({},K,{backgroundImage:"linear-gradient(to bottom right, red, yellow)",color:"black"}),btnDetails:{width:"200px",marginLeft:"50px",marginTop:"-30px"},logoContainer:{marginTop:"80px",textAlign:"center"}},J=a(58),Z=a(195),$=function(e){var t=e.options,a=e.name,n=e.value,l=e.onInputChange,o=e.label,i=e.style,c=e.helperText,m=e.error;return r.a.createElement(Z.a,{options:t,value:n,onInputChange:l,name:a,renderInput:function(e){return r.a.createElement(R.a,Object.assign({},e,{required:!0,label:o,margin:"normal",variant:"outlined",style:i,helperText:c,error:m,InputProps:Object(V.a)({},e.InputProps,{type:"search"})}))}})},Q=["Bernardez, Leandra","Camara, Fatoumata","Colson, Sheryll","Jonas, Kemar","Kabir, Tahamina","Kamat, Havzert","Lora, Yaire","Love, Mariah","Melendez, Charlie ","Mullings, Raeheem","Pichardo, Marco","Robinson, Tytana ","Robinson, Kaeem","Rosario, Bryanna","Wally, Amie"],X=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).handleSubmit=function(t){if(t.preventDefault(),null!=Q.find((function(t){return t===e.state.name}))){var a={name:e.state.name,actType:e.state.actType,numberofCalls:parseInt(e.state.numberofCalls)};e.props.checkInOut(a,e.props.history)}else{var n={name:"Please select your name from the list."};e.setState({errors:n})}},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.handleActivityType=function(t,a){e.setState({actType:a})},e.handleSelectName=function(t,a){e.setState({name:a})},e.state={name:"",actType:"",numberofCalls:0,message:"",errors:{}},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e,t=this.state.errors,a=this.props.data,n=a.loading,l=a.message;return r.a.createElement(J.Flash,null,r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,sm:!0}),r.a.createElement(_.a,{item:!0,sm:8},r.a.createElement(p.a,{variant:"h4",style:Y.pageTitle},"NDA INTERNS TIMESHEET"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit,style:Y.form},r.a.createElement($,{options:Q,onInputChange:this.handleSelectName,name:"name",label:"Select participant name.",style:{width:"40%",margin:"20px 30%"},helperText:t.name,error:!!t.name,value:this.state.name}),r.a.createElement($,{options:["Clock-in","Clock-out"],onInputChange:this.handleActivityType,name:"actType",label:"Select to clock-in or clock-out?",style:{width:"40%",margin:"20px 30%"},helperText:t.actType,error:!!t.actType,value:this.state.actType}),"Clock-out"===this.state.actType&&r.a.createElement(R.a,(e={required:!0,id:"numberofCalls",name:"numberofCalls",type:"numberofCalls",onChange:this.handleChange,variant:"outlined"},Object(w.a)(e,"type","number"),Object(w.a)(e,"label","Enter number of calls:"),Object(w.a)(e,"style",{width:"40%",margin:"20px 30%"}),Object(w.a)(e,"value",this.state.numberofCalls),e)),r.a.createElement(S.a,{type:"submit",variant:"contained",color:"primary",style:{width:"40%",margin:"20px 30%"},disabled:!1}," Submit",n&&r.a.createElement(U.a,{size:30,style:Y.progress})),r.a.createElement("br",null),t.message&&r.a.createElement(p.a,{variant:"h6",style:{textAlign:"center",color:"red"}},t.message),r.a.createElement(p.a,{variant:"h6",style:{textAlign:"center",color:"blue"}},l.message))),r.a.createElement(_.a,{item:!0,sm:!0})))}}]),t}(n.Component),ee=Object(d.b)((function(e){return{data:e.data,UI:e.UI}}),{checkInOut:function(e,t){return function(t){t({type:"LOADING_DATA"}),g.a.post("/eshTimesheet",e).then((function(e){t({type:"SET_MESSAGE",payload:e.data}),setInterval((function(){window.location.reload()}),3e3)})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data}),t({type:"SET_MESSAGE",payload:[]})}))}}})(X),te=a(189),ae=a(193),ne=a(192),re=a(188),le=a(190),oe=a(191),ie=a(136),ce=a(85),me=a(51),se=a.n(me),ue=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).onDownloadClick=function(){window.confirm("Are you sure you want to delete this database?")&&g.a.delete("/cleanDatabase").then((function(e){setInterval((function(){window.location.reload()}),3e3)})).catch((function(e){console.log(e)}))},e.onReportClick=function(t){var a=0;e.state.filterName?(e.state.completed.forEach((function(t){t.name===e.state.filterName&&(a+=parseFloat(t.duration))})),alert("".concat(e.state.filterName,"  have worked ").concat(a," hours."))):alert("Please select a name!")},e.handleSelectName=function(t,a){e.setState({filterName:a})},e.state={completed:[],pending:[],filtered:[],filterName:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,a=e.match.params.fullname;this.props.getActivities(a,t)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.data.activities,a=t.completed,n=t.pending;t.loading;a&&n&&this.setState({completed:a,pending:n})}},{key:"render",value:function(){var e=this,t=this.props.data.loading,a=this.state,l=a.completed,o=a.pending;return r.a.createElement(re.a,{component:ie.a,style:{margin:"4.5% auto",width:1100,display:"table"}},t?r.a.createElement(U.a,{size:100,style:{margin:"auto 50%"}}):r.a.createElement(n.Fragment,null,r.a.createElement(ce.CSVLink,{data:l,filename:"timesheet-".concat(se()().tz("America/New_York").format("L"),".csv"),target:"_blank",onClick:this.onDownloadClick},r.a.createElement("p",{style:{textAlign:"center"}},"Download")),r.a.createElement($,{options:Q,onInputChange:this.handleSelectName,name:"filterName",label:"Select participant name.",style:{width:"40%",margin:"20px 30%"},value:this.state.name}),r.a.createElement(S.a,{variant:"outlined",color:"primary",onClick:this.onReportClick,style:{width:"15%",margin:"10px 42.5%"}},"Report"),r.a.createElement(p.a,{variant:"h4",style:{marginTop:"40px",marginBottom:"40px",textAlign:"center"}},"FILTERED TIMESHEET (",se()().tz("America/New_York").format("L"),")"),r.a.createElement(te.a,{"aria-label":"simple table",style:{backgroundColor:"lightsteelblue"}},r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(ne.a,{style:{fontWeight:"bolder",fontSize:"20px"}},"Name"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Date"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Time-in"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Time-out"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Duration"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"#Calls"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Status"))),r.a.createElement(ae.a,null,l.filter((function(t){return t.name===e.state.filterName})).map((function(e){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(ne.a,{component:"th",scope:"row"},e.name),r.a.createElement(ne.a,{align:"right"},e.date),r.a.createElement(ne.a,{align:"right"},e.timeIn),r.a.createElement(ne.a,{align:"right"},e.timeOut),r.a.createElement(ne.a,{align:"right"},e.duration),r.a.createElement(ne.a,{align:"right"},e.numberofCalls),r.a.createElement(ne.a,{align:"right"},e.status))})))),r.a.createElement(p.a,{variant:"h4",style:{marginTop:"40px",marginBottom:"40px",textAlign:"center"}},"NDA REPORT TIMESHEET (",se()().tz("America/New_York").format("L"),")"),r.a.createElement(te.a,{"aria-label":"simple table",style:{backgroundColor:"darkseagreen"}},r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(ne.a,{style:{fontWeight:"bolder",fontSize:"20px"}},"Name"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Date"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Time-in"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Time-out"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Duration"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"#Calls"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Status"))),r.a.createElement(ae.a,null,l.map((function(e){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(ne.a,{component:"th",scope:"row"},e.name),r.a.createElement(ne.a,{align:"right"},e.date),r.a.createElement(ne.a,{align:"right"},e.timeIn),r.a.createElement(ne.a,{align:"right"},e.timeOut),r.a.createElement(ne.a,{align:"right"},e.duration),r.a.createElement(ne.a,{align:"right"},e.numberofCalls),r.a.createElement(ne.a,{align:"right"},e.status))})))),r.a.createElement(p.a,{variant:"h4",style:Y.pageTitle},"TIMESHEET LOGS"),r.a.createElement(te.a,{"aria-label":"simple table"},r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(ne.a,{style:{fontWeight:"bolder",fontSize:"20px"}},"Name"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Date"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Time"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Type"),r.a.createElement(ne.a,{align:"right",style:{fontWeight:"bolder",fontSize:"20px"}},"Status"))),r.a.createElement(ae.a,null,o.map((function(e){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(ne.a,{component:"th",scope:"row"},e.name),r.a.createElement(ne.a,{align:"right"},e.date),r.a.createElement(ne.a,{align:"right"},e.time),r.a.createElement(ne.a,{align:"right"},e.actType),r.a.createElement(ne.a,{align:"right"},e.status))}))))))}}]),t}(n.Component),de=Object(d.b)((function(e){return Object(w.a)({data:e.data,UI:F.a.object.isRequired},"UI",e.UI)}),{getActivities:function(e){return function(t){t({type:"LOADING_DATA"}),g.a.get("/dataFromTimesheets").then((function(a){t(E(e)),t({type:"SET_ACTIVITIES_DATA",payload:a.data})})).catch((function(e){t({type:"SET_ACTIVITIES_DATA",payload:[]})}))}}})(ue),pe=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("p",{style:{fontSize:"100px"}},"UNAUTHORIZED")}}]),t}(n.Component),he=a(38),ge=a(86),Ee={authenticatedAdmin:!1,loading:!1,adminInformation:{}},fe={activities:{},message:{},loading:!1},be={loading:!1,errors:null},ye=[ge.a],Te=Object(he.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED_ADMIN":return Object(V.a)({},e,{authenticatedAdmin:!0});case"SET_UNAUTHENTICATED_ADMIN":return Ee;case"SET_ADMIN":return{authenticatedAdmin:!0,loading:!1,adminInformation:t.payload};case"LOADING_ADMIN":return Object(V.a)({},e,{loading:!0});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(V.a)({},e,{loading:!0});case"SET_ACTIVITIES_DATA":return Object(V.a)({},e,{activities:t.payload,loading:!1});case"SET_MESSAGE":return{loading:!1,message:t.payload};default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(V.a)({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(V.a)({},e,{loading:!1,errors:null});case"LOADING_UI":return Object(V.a)({},e,{loading:!0});case"STOP_LOADING_UI":return Object(V.a)({},e,{loading:!1});default:return e}}}),Se=Object(he.e)(Te,{},Object(he.d)(he.a.apply(void 0,ye))),ve=a(42);g.a.defaults.baseURL="https://us-central1-cm-tracker-492ed.cloudfunctions.net/api";var Ae=localStorage.FBIdToken;Ae&&(1e3*q()(Ae).exp<Date.now()?(Se.dispatch(f()),window.location.href="/login"):"admin"===localStorage.role?(Se.dispatch({type:"SET_AUTHENTICATED_ADMIN"}),g.a.defaults.headers.common.Authorization=Ae):"regular-user"===localStorage.accType&&(Se.dispatch({type:"SET_AUTHENTICATED_USER"}),g.a.defaults.headers.common.Authorization=Ae));var Ie=function(){return r.a.createElement(d.a,{store:Se},r.a.createElement(ve.BrowserRouter,null,r.a.createElement(k,null),r.a.createElement(M.g,null,r.a.createElement(M.d,{exact:!0,path:"/",component:ee}),r.a.createElement(M.d,{exact:!0,path:"/login",component:W}),r.a.createElement(G,{exact:!0,path:"/timesheet/:fullname",component:de}),r.a.createElement(M.d,{exact:!0,path:"/UNAUTHORIZED",component:pe}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports=a.p+"static/media/ori_logo.4603f0d1.png"},96:function(e,t,a){e.exports=a(135)}},[[96,1,2]]]);
//# sourceMappingURL=main.ccf0e6aa.chunk.js.map